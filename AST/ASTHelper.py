# from pydoc import cli
import docker
import json

cli = docker.from_env()
# 提前拉取所需要的anchore镜像
# client.images.pull('anchore/grype','latest')
# client.images.pull('anchore/syft','latest')
# 
# temp = cli.images.list()
# for i in temp:
#     print(type(i))

# image = cli.images.get("busybox:latest")

# try:
#     image = cli.images.get("busybox:latest")
# except docker.errors.ImageNotFound as e:
#     print(e)
# else: 
#     print("no error")

# print(cli.images.get_registry_data('ubuntu').id)
# # docker.errors.ImageNotFound

print(cli.containers.run('anchore/syft:latest',name = 'syft',command='packages ubuntu:latest'))
# cli.containers.run('ubuntu',name = 'ubuntu',detach = True)
# cli.containers.run('ac')